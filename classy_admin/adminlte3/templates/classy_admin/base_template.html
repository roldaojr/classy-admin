{% extends "classy_admin/base.html" %}
{% load menu i18n static placeholder_image %}
{% block body_classes %}
  pace-minimal hold-transition
  {% if request.GET.is_popup %}
    layout-top-nav
  {% else %}
    sidebar-mini layout-fixed
  {% endif %}
  {{ appearance.dark_mode|yesno:' dark-mode,' }}
  {% if appearance.accent_color %}accent-{{ appearance.accent_color }}{% endif %}
{% endblock body_classes %}
{% block body %}
  <div class="wrapper">
    <div class="preloader flex-column justify-content-center align-items-center">
      {% if request.site.preferences.branding__logo %}
        <img src="{{ request.site.preferences.branding__logo.url }}"
             class="animation__shake"
             height="60"
             width="60">
      {% else %}
        <img src="https://adminlte.io/themes/v3/dist/img/AdminLTELogo.png"
             class="animation__shake"
             height="60"
             width="60">
      {% endif %}
    </div>
    {% block topnav %}
      {% if not request.GET.is_popup %}
        <nav class="main-header navbar navbar-expand navbar-{{ appearance.navbar_tone|default:'light' }} navbar-{{ appearance.navbar_color|default:'white' }} border-bottom-0">
          {% block sidebar_button %}
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
              </li>
            </ul>
          {% endblock sidebar_button %}
          {% block top_left_nav %}
          {% endblock top_left_nav %}
          {% block top_right_nav %}
            <ul class="navbar-nav ml-auto">
              {% block site_menu %}
              {% endblock site_menu %}
              {% if request.user.is_authenticated %}
                {% block user_menu %}
                {% endblock user_menu %}
              {% else %}
                <li class="nav-item dropdown user-menu">
                  <a href="{# url 'cbvadmin:accounts:login' #}" class="nav-link">{% trans "Log in" %}</a>
                </li>
              {% endif %}
            </ul>
          {% endblock top_right_nav %}
        </nav>
      {% endif %}
    {% endblock topnav %}
    {% block sidebar %}
      {% if not request.GET.is_popup %}
        <aside class="main-sidebar sidebar-{{ appearance.sidebar_tone|default:'dark' }}-{{ appearance.sidebar_color|default:'primary' }}{{ appearance.sidebar_flat|yesno:' nav-flat,' }}{{ appearance.sidebar_compact|yesno:' nav-compact,' }} elevation-4">
          <a href="{# url 'cbvadmin:dashboard' #}" class="brand-link text-center">
            {% if request.site.preferences.branding__logo %}
              <img src="{{ request.site.preferences.branding__logo.url }}"
                   class="bg-white brand-image img-circle elevation-4">
            {% else %}
              <img src="{% static 'cbvadmin/img/logo.png' %}"
                   class="bg-white brand-image img-circle elevation-4">
            {% endif %}
            <span class="brand-text">{{ request.site.name|default:_("Administration") }}</span>
          </a>
          <div class="sidebar" style="padding: 0px 3px;">
            <nav class="mt-2">
              <ul class="nav nav-pills nav-sidebar flex-column"
                  data-widget="treeview"
                  role="menu"
                  data-accordion="false">
                {% generate_menu %}
                {% with menu=menus.cbvadmin %}
                  {% include "classy_admin/nav_menu.html" %}
                {% endwith %}
              </ul>
            </nav>
          </div>
        </aside>
      {% endif %}
    {% endblock sidebar %}
    <div class="content-wrapper">
      {% block content %}
        {% block content_header %}
          <section class="content-header">
            <div class="container-fluid">
              <div class="row">
                <div class="col-sm-6">
                  <h1>
                    {% block title %}
                      {% trans "Site administration" %}
                    {% endblock title %}
                  </h1>
                </div>
                {% block breadcrumbs %}
                  {% if breadcrumbs %}
                    <div class="col-sm-6">
                      <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item">
                          <i class="fa fa-home"></i>
                        </li>
                        {% for item in breadcrumbs %}
                          <li class="breadcrumb-item{% if forloop.last %} active{% endif %}">{{ item }}</li>
                        {% endfor %}
                      </ol>
                    </div>
                  {% endif %}
                {% endblock breadcrumbs %}
              </div>
            </div>
          </section>
        {% endblock content_header %}
        {% block content_body %}
        {% endblock content_body %}
      {% endblock content %}
    </div>
    {% block footer %}
      {% if not request.GET.is_popup %}
        <footer class="main-footer d-print-none">
          <strong>Copyright Â© 2014-2021 <a href="https://adminlte.io">AdminLTE.io</a>.</strong>
          All rights reserved.
        </footer>
      {% endif %}
    {% endblock footer %}
  </div>
{% endblock body %}
{% block extrahead %}
{% endblock extrahead %}
{% block extrascript %}
  <script type="text/javascript" src="{% static 'js/admin.js' %}"></script>
{% endblock extrascript %}
